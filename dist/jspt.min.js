let debugMode=!1;const jspt={importScript:function(e){const{names:t}=e;t.forEach(e=>{switch(e){case"highlightjs":const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js",document.head.appendChild(e);const t=document.createElement("link");t.rel="stylesheet",t.href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css",document.head.appendChild(t);break;case"material_symbols_rounded":const s=document.createElement("link");s.rel="stylesheet",s.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200",document.head.appendChild(s);break;case"material_symbols_outlined":const n=document.createElement("link");n.rel="stylesheet",n.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200",document.head.appendChild(n);break;case"lucide":const o=document.createElement("script");o.src="https://unpkg.com/lucide@latest",document.head.appendChild(o)}})},closePopup:function(e){const{custom_id:t}=e,s=document.querySelector(`.popup-container#${t}`);s&&s.remove()},makePopup:function(e){const{style:t="default",content_type:s="text",header:n,title:o,message:a,content:r,close_on_blur:c=!0,custom_id:i=Math.random().toString(36).substring(2)}=e,l=(e,t)=>fetch(location.href).then(e=>e.text()).then(s=>{const n=s.split("\n"),o=Math.max(0,e-3),a=Math.min(n.length,e+10),r=n.slice(o,a);for(;r.length&&""===r[r.length-1].trim();)r.pop();const c=r.map((t,s)=>{const n=o+s+1;if(!/\S/.test(t))return"";const a=t.match(/^\s*/)[0].replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),r=hljs.highlight(t.trimStart(),{language:"javascript"}).value;return n===e?`<span class="popup-error-code-line popup-error-code-line-highlight"><span class="popup-error-code-line-number">${n}</span>${a}${r}</span>`:`<span class="popup-error-code-line"><span class="popup-error-code-line-number">${n}</span>${a}${r}</span>`}).join("");return`\n                        <p>${t}</p>\n                        <pre class="popup-error-code">\n                            <div class="popup-error-code-header"><p class="popup-error-code-header-file">${location.href.split("/").pop().split("?")[0]}</p></div>\n                            <code class="hljs language-javascript">${c}</code>\n                        </pre>\n                    `}).catch(e=>(console.error("Failed to fetch source:",e),"<p>Failed to fetch source code</p>")),d=document.createElement("div");if(d.classList.add("popup"),"text"===s){if(r){const e=((new Error).stack.split("\n")[2]||"").match(/:(\d+):\d+\)?$/),t=e?parseInt(e[1]):null,s=`Error on line ${t}: Cannot use content when content_type is text in jspt.makePopup(), Please make sure content is not provided`;t?l(t,s).then(e=>{jspt.makeToast({style:"default-error",message:s,duration:-1,close_on_click:!0,icon_left:"unknown_document",icon_left_type:"google_material_rounded",icon_left_action:()=>{jspt.makePopup({content_type:"html",header:"Error",content:e})}})}):jspt.makeToast({style:"default-error",message:s,duration:-1,close_on_click:!0})}}else if("html"===s){if(a){const e=((new Error).stack.split("\n")[2]||"").match(/:(\d+):\d+\)?$/),t=e?parseInt(e[1]):null,s=`Error on line ${t}: Cannot use message when content_type is html in jspt.makePopup(), Please make sure message is not provided`;t?l(t,s).then(e=>{jspt.makeToast({style:"default-error",message:s,duration:-1,close_on_click:!0,icon_left:"unknown_document",icon_left_type:"google_material_rounded",icon_left_action:()=>{jspt.makePopup({content_type:"html",header:"Error",content:e})}})}):jspt.makeToast({style:"default-error",message:s,duration:-1,close_on_click:!0})}if(o){const e=((new Error).stack.split("\n")[2]||"").match(/:(\d+):\d+\)?$/),t=e?parseInt(e[1]):null,s=`Error on line ${t}: Cannot use title when content_type is html in jspt.makePopup(), Please make sure title is not provided`;t?l(t,s).then(e=>{jspt.makeToast({style:"default-error",message:s,duration:-1,close_on_click:!0,icon_left:"unknown_document",icon_left_type:"google_material_rounded",icon_left_action:()=>{jspt.makePopup({content_type:"html",header:"Error",content:e})}})}):jspt.makeToast({style:"default-error",message:s,duration:-1,close_on_click:!0})}}const p=document.createElement("div");p.classList.add("popup-header");const u=document.createElement("p");u.innerText=n||"",p.appendChild(u);const m=document.createElement("span");m.classList.add("popup-header-close"),m.innerHTML="&times;",m.addEventListener("click",()=>{g.remove()}),p.appendChild(m),d.appendChild(p);const h=document.createElement("div");if(h.classList.add("popup-content"),"text"===s){if(o){const e=document.createElement("h3");e.innerText=o,h.appendChild(e)}if(a){const e=document.createElement("p");e.innerText=a,h.appendChild(e)}}else"html"===s&&(h.innerHTML=r||"");d.appendChild(h);const g=document.createElement("div");g.classList.add("popup-container"),g.appendChild(d),g.id=i,c&&g.addEventListener("click",e=>{e.target===g&&g.remove()}),document.body.appendChild(g)},makeToast:function(e){const{style:t="default",message:s,custom_id:n,icon_left:o,icon_left_type:a="google_material_rounded",icon_left_action:r,icon_right:c,icon_right_type:i="google_material_rounded",icon_right_action:l,duration:d=5e3,close_on_click:p=!1,onclick:u}=e;let m=document.querySelector(".toast-container");m||(m=document.createElement("div"),m.classList.add("toast-container"),document.body.appendChild(m));const h=n?document.getElementById(n):null;h&&h.remove();const g=document.createElement("div");if(g.classList.add("toast"),n&&(g.id=n),t.startsWith("toast-")?g.classList.add(t):g.classList.add(`toast-${t}`),o){const e=document.createElement("span");switch(e.classList.add("toast-icon"),r&&(e.classList.add("action"),e.style.setProperty("--cursor","pointer"),e.addEventListener("click",e=>{e.stopPropagation(),r()})),a){case"google_material_rounded":e.classList.add("material-symbols-rounded"),e.innerText=o;break;case"google_material_outlined":e.classList.add("material-symbols-outlined"),e.innerText=o;break;case"svg":e.innerHTML=o;break;case"image":const t=document.createElement("img");t.src=o,t.classList.add("toast-icon-image"),r&&t.classList.add("action"),e.appendChild(t);break;case"text":case"emoji":e.innerText=o;break;case"lucide_icon":e.dataset.lucide=o}g.appendChild(e)}const y=document.createElement("span");if(y.classList.add("toast-text"),y.innerHTML=s,g.appendChild(y),c){const e=document.createElement("span");switch(e.classList.add("toast-icon"),l&&(e.classList.add("action"),e.style.setProperty("--cursor","pointer"),e.addEventListener("click",e=>{e.stopPropagation(),l()})),i){case"google_material_rounded":e.classList.add("material-symbols-rounded"),e.innerText=c;break;case"google_material_outlined":e.classList.add("material-symbols-outlined"),e.innerText=c;break;case"svg":e.innerHTML=c;break;case"image":const t=document.createElement("img");t.src=c,t.classList.add("toast-icon-image"),l&&t.classList.add("action"),e.appendChild(t);break;case"text":case"emoji":e.innerText=c;break;case"lucide_icon":e.dataset.lucide=c}g.appendChild(e)}if(d>0){const e=document.createElement("div");e.classList.add("toast-duration-bar"),g.appendChild(e),setTimeout(()=>{e.style.width="100%",e.style.transition=`width ${d}ms linear`},10),setTimeout(()=>{_(g)},d)}function f(){const e=Array.from(m.querySelectorAll(".toast"));if(!e.length)return;const t=getComputedStyle(m),s=parseFloat(t.gap||t.rowGap||"0")||0,n=e.map(e=>e.getBoundingClientRect().height),o=e.length-1;if(e.forEach((e,t)=>{e.style.zIndex=String(100+t),e.classList.remove("stacked")}),1!==e.length)for(let t=0;t<e.length;t++){const a=e[t];if(t===o)a.style.setProperty("--translate","0px");else if(t===o-1){const e=n[t]+s-5;a.style.setProperty("--translate",`${e}px`),a.style.setProperty("--scale","0.97"),a.classList.add("stacked")}else{let e=0;for(let a=t;a<=o-1;a++)e+=n[a]+s-2;a.style.setProperty("--translate",`${e}px`),a.style.setProperty("--scale","0.97"),a.classList.add("stacked")}}else e[0].style.setProperty("--translate","0px")}function _(e){const t=Array.from(m.querySelectorAll(".toast")),s=t.indexOf(e),n=t.map(e=>e.getBoundingClientRect());t.forEach((e,t)=>{t<s&&(e.style.transition="transform 0.25s ease",e.style.transform=`translateY(${n[s].height+8}px)`)}),e.style.transition="transform 0.25s ease, opacity 0.25s ease",e.style.transform="translateX(100%)",e.style.opacity="0",e.addEventListener("transitionend",()=>{e.remove(),t.forEach(e=>{e.style.transition="",e.style.transform=""})},{once:!0})}let k;p&&(g.style.setProperty("--cursor","pointer"),g.addEventListener("click",e=>{e.target.classList.contains("action")||_(g)})),m.appendChild(g),u&&(g.style.setProperty("--cursor","pointer"),g.addEventListener("click",e=>{e.target.classList.contains("action")||(u(),f(),m.dispatchEvent(new CustomEvent("mouseleave")))})),function(e){const t=Array.from(e.querySelectorAll(".toast")),s=t.map(t=>{const s=t.cloneNode(!0);s.style.position="absolute",s.style.visibility="hidden",s.style.height="auto",s.style.whiteSpace="normal",s.style.overflow="visible",s.style.textOverflow="unset",s.style.wordBreak="break-word",e.appendChild(s);const n=s.offsetHeight;return e.removeChild(s),n});e.addEventListener("mouseenter",()=>{k&&(clearTimeout(k),k=null),t.forEach((e,t)=>{const n=e.querySelector(".toast-text").scrollHeight>s[t]?s[t]+20:s[t]-20;e.style.height=`${n}px`})}),e.addEventListener("mouseleave",()=>{t.forEach(e=>e.style.height=""),k&&clearTimeout(k),k=setTimeout(()=>{k=null},300)})}(m),f(),window.addEventListener("resize",f);new MutationObserver(f).observe(m,{childList:!0}),"undefined"!=typeof lucide&&lucide.createIcons()}},currentScript=document.currentScript,params=currentScript?new URL(currentScript.src).searchParams:new URLSearchParams;window.addEventListener("DOMContentLoaded",()=>{if("true"===params.get("debug")){if(debugMode=!0,currentScript&&!currentScript.src.includes("https://cdn.wokki20.nl/content"))return console.log("Debug mode disabled."),console.log("This script is not hosted on cdn.wokki20.nl, debug mode is disabled. Please use https://cdn.wokki20.nl/content/jspt_latest/jspt.js instead."),console.log("If you are hosting this script yourself, you can manually enable debug mode by changing debugMode to true in the script."),debugMode=!1,void(void 0!==jspt&&jspt.makeToast({style:"default-error",message:"This script is not hosted on cdn.wokki20.nl, please check console for more information.",duration:-1,close_on_click:!0}));console.log("Debug mode enabled"),void 0!==jspt&&jspt.makeToast({style:"default",message:"Debug mode enabled, do not use in production",duration:-1,close_on_click:!0})}}),"undefined"!=typeof window&&(window.jspt=jspt);